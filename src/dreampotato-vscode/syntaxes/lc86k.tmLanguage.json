{
  "scopeName": "source.lc86k",
  "name": "lc86k Assembly",
  "fileTypes": ["s", "asm"],
  "patterns": [
    { "include": "#comment" },
    { "include": "#label" },
    { "include": "#directive" },
    { "include": "#instruction" },
    { "include": "#register" },
    { "include": "#number" },
    { "include": "#string" }
  ],
  "repository": {
    "comment": {
      "patterns": [
        {
          "name": "comment.line.semicolon.lc86k",
          "match": ";.*$"
        }
      ]
    },
    "label": {
      "patterns": [
        {
          "name": "entity.name.label.lc86k",
          "match": "^[ \\t]*([A-Za-z_][A-Za-z0-9_]*):"
        }
      ]
    },
    "directive": {
      "patterns": [
        {
          "name": "keyword.directive.lc86k",
          "match": "\\.(byte|word|text|string|org|cnop)\\b"
        },
        {
          "name": "keyword.directive.include.lc86k",
          "match": "\\.include( (asm|word|text|string|org|include|cnop))?\\b"
        }
      ]
    },
    "instruction": {
      "patterns": [
        {
          "name": "entity.name.function.instruction.lc86k",
          "match": "(?i)\\b(add|addc|sub|subc|inc|dec|mul|div|and|or|xor|rol|rolc|ror|rorc|ld|st|mov|ldc|ldf|stf|push|pop|xch|jmp|jmpf|br|brf|bz|bnz|bp|bpc|bn|dbnz|be|bne|call|callf|callr|ret|reti|clr1|set1|not1|nop)\\b"
        }
      ]
    },
    "register": {
      "patterns": [
        {
          "name": "variable.parameter.register.lc86k",
          "match": "(?i)\\b(acc|psw|b|c|trl|trh|sp|pcon|ie|ip|ext|ocr|t0cnt|t0prr|t0l|t0lr|t0h|t0hr|t1cnt|t1lc|t1l|t1hc|t1h|mcr|stad|cnr|tdr|xbnk|vccr|scon0|sbuf0|sbr|scon1|sbuf1|p1|p1ddr|p1fcr|p3|p3ddr|p3int|fpr|p7|i01cr|i23cr|isl|mplsw|mplsta|mplrst|vsel|vrmad1|vrmad2|vtrbf|vlreg|btcr|@r[0-3]|[0-f])\\b"
        }
      ]
    },
    "number": {
      "patterns": [
        {
          "name": "constant.numeric.hex.lc86k",
          "match": "\\$[0-9A-Fa-f]+"
        },
        {
          "name": "constant.numeric.binary.lc86k",
          "match": "%[01]+"
        },
        {
          "name": "constant.numeric.decimal.lc86k",
          "match": "\\b\\d+\\b"
        }
      ]
    },
    "string": {
      "patterns": [
        {
          "name": "string.quoted.double.lc86k",
          "begin": "\"",
          "end": "\"",
          "patterns": [
            {
              "name": "constant.character.escape.lc86k",
              "match": "\\\\."
            }
          ]
        }
      ]
    }
  }
}